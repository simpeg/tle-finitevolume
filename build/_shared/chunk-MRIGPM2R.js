var h=/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;function n(t){return t?t.match(h)!==null:!1}var s={test(t){return!!t.hostname.match(/(?:dx\.)?(?:www\.)?doi\.org/)},parse(t){return t.pathname.replace(/^\//,"")}},m={test(t){return t.hostname.endsWith("elifesciences.org")&&t.pathname.startsWith("/articles/")},parse(t){return`10.7554/eLife.${t.pathname.replace("/articles/","")}`}},l={test(t){return t.hostname.endsWith("zenodo.org")&&!!t.pathname.match(/^\/(?:record|badge\/latestdoi)\//)},parse(t){return`10.5281/zenodo.${t.pathname.replace(/^\/(?:record|badge\/latestdoi)\//,"")}`}};function d(t){let e=t.pathname.split("/").filter(r=>!!r);return e.slice(0,-1).map((r,a)=>`${r}/${e[a+1]}`)}var p={test(t){return!!d(t).find(n)},parse(t){return d(t).find(n)}},R={test(t){return n(t.searchParams.get("id"))},parse(t){return t.searchParams.get("id")}},c=[s],u=[s,p,m,l,R];function E(t,e){return t?!!i(t,e):!1}function i(t,e){let r;if(!!t){if(n(t))return t;if(t.startsWith("doi:")&&(r=t.slice(4),n(r)))return r;try{let a=new URL(t.startsWith("http")?t:`http://${t}`),o=(e?.strict?c:u).find(f=>f.test(a));if(!o)return;r=o.parse(a)}catch{}if(n(r))return r}}function S(t,e){let r=i(t,e);if(!!r)return`https://doi.org/${r}`}var A={validatePart:n,validate:E,normalize:i,buildUrl:S};export{A as a};
